<main class="mx-auto max-w-7xl px-5 py-10 sm:px-8">
	<section class="grid grid-cols-1 gap-6 lg:grid-cols-12">
		<!-- Full-width card like Profile header -->
		<header class="rounded-2xl bg-zinc-100 p-6 lg:col-span-12">
			@if (closestMunro) {
			<div class="flex flex-col gap-6 md:flex-row md:items-start md:items-center md:justify-between">
				<div class="flex items-center gap-5">
					<div class="relative h-16 w-16 overflow-hidden rounded-2xl bg-white">
						<img class="h-full w-full object-cover"
							src="https://images.unsplash.com/photo-1520975682031-ae1f06d9d2a5?auto=format&fit=crop&w=400&q=80"
							alt="Profile photo" />
					</div>

					<div class="min-w-0">
						<div class="flex flex-wrap items-center gap-3">
							<h1 class="truncate text-2xl font-semibold text-zinc-950">Alex Morgan</h1>
						</div>
					</div>
				</div>

				<div class="flex flex-wrap items-center gap-3">
					<button class="rounded-3xl bg-zinc-950 px-5 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
						type="button">
						<span class="inline-flex items-center gap-2">
							<i class="fa-solid fa-pen-to-square"></i>
							Edit profile
						</span>
					</button>
				</div>


				<!-- <div class="min-w-0">
					<div class="flex items-center gap-5">
						<span class="grid h-16 w-16 place-items-center rounded-2xl bg-white text-zinc-900">
							<i class="fa-solid fa-location-crosshairs text-xl"></i>
						</span>

						<div class="min-w-0 flex-1">
							<div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between">
								<div class="min-w-0">
									<h1 class="truncate text-2xl font-semibold text-zinc-950">
										{{ closestMunro.hill_name }}
									</h1>

									<div class="mt-2 flex flex-wrap items-center gap-3">
										<span
											class="inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-zinc-700">
											<i class="fa-solid fa-circle text-[10px] text-emerald-500"></i>
											Located
										</span>

										<span
											class="inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-zinc-700">
											<i class="fa-solid fa-compass"></i>
											Nearest
										</span>
									</div>
								</div>

								<button *ngIf="closestMunro?._id"
									[routerLink]="['/dashboard/mountain-manager', closestMunro._id]"
									class="shrink-0 rounded-3xl bg-zinc-950 px-5 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
									type="button">
									<span class="inline-flex items-center gap-2">
										<i class="fa-solid fa-pen-to-square"></i>
										View details
									</span>
								</button>
							</div>
						</div>
					</div>
				</div> -->
			</div>

			<!-- Body (profile-like sections inside the same card) -->
			<div class="mt-6 space-y-6">
				<!-- Map block (card within card pattern) -->
				<section class="rounded-2xl bg-white">
					<div class="h-[60vh] min-h-[420px] w-full bg-zinc-100">
						<app-map [allMunros]="closestMunro" class="block h-full w-full"></app-map>
					</div>

					<div class="border-t border-zinc-100 p-6">
						<div class="flex flex-wrap gap-3">
							<span
								class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
								<i class="fa-solid fa-mountain"></i>
								{{ closestMunro.height }}m
							</span>

							<span
								class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
								<i class="fa-solid fa-location-crosshairs"></i>
								Nearest match
							</span>

							<span
								class="inline-flex items-center gap-2 rounded-full bg-emerald-100 px-4 py-2 text-sm font-semibold text-emerald-900">
								<i class="fa-solid fa-circle-check"></i>
								Ready
							</span>
						</div>
					</div>
				</section>
			</div>
			} @else {
			<div class="flex flex-col gap-6 md:flex-row md:items-start md:justify-between">
				<div class="min-w-0">
					<div class="flex items-center gap-5">
						<span class="grid h-16 w-16 place-items-center rounded-2xl bg-white text-zinc-900">
							<i class="fa-solid fa-location-dot text-xl"></i>
						</span>

						<div class="min-w-0">
							<div class="flex flex-wrap items-center gap-3">
								<h1 class="truncate text-2xl font-semibold text-zinc-950">Locator</h1>

								<span
									class="inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-zinc-700">
									<i class="fa-solid fa-circle text-[10px] text-amber-500"></i>
									Waiting
								</span>
							</div>

							<p class="mt-2 text-base text-zinc-600">
								Find the Munro closest to your current location.
							</p>
						</div>
					</div>
				</div>

				<div class="flex flex-wrap items-center gap-3">
					<button type="button"
						class="rounded-3xl bg-zinc-950 px-5 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
						(click)="getClosestMunro()">
						<span class="inline-flex items-center gap-2">
							<i class="fa-solid fa-location-crosshairs"></i>
							Find nearest
						</span>
					</button>
				</div>
			</div>

			<!-- Empty state (same section-card language as Profile) -->
			<div class="mt-6">
				<section class="rounded-2xl bg-white p-10 sm:p-12">
					<div class="mx-auto max-w-2xl text-center">
						<span class="mx-auto grid h-16 w-16 place-items-center rounded-2xl bg-zinc-100 text-zinc-900">
							<i class="fa-solid fa-location-crosshairs text-xl"></i>
						</span>

						<h2 class="mt-6 text-2xl font-semibold text-zinc-950">Find your nearest Munro</h2>

						<p class="mt-2 text-base leading-relaxed text-zinc-600">
							Weâ€™ll use your device location (if you allow it) to calculate the closest peak.
						</p>

						<div class="mt-6 flex flex-col gap-3 sm:flex-row sm:justify-center">
							<button type="button"
								class="rounded-3xl bg-zinc-950 px-6 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
								(click)="getClosestMunro()">
								<span class="inline-flex items-center gap-2">
									<i class="fa-solid fa-location-dot"></i>
									Find my nearest Munro
								</span>
							</button>

							<button type="button"
								class="rounded-3xl bg-white px-6 py-3 text-sm font-semibold text-zinc-800 hover:bg-zinc-50">
								<span class="inline-flex items-center gap-2">
									<i class="fa-solid fa-circle-info"></i>
									How it works
								</span>
							</button>
						</div>
					</div>
				</section>
			</div>
			}
		</header>
	</section>
</main>
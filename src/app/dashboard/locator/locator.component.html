<main class="mx-auto max-w-7xl px-5 sm:px-8 py-8">
	<section class="grid grid-cols-1 lg:grid-cols-12 gap-6">
		<!-- Full-width card like Profile header -->
		<header class="lg:col-span-12 rounded-[32px] bg-zinc-100/70 p-4">
			<div class="rounded-[28px] bg-white overflow-hidden">
				<!-- Header row (same spacing + typography as profile) -->
				<div class="px-7 py-6 border-b border-zinc-100">
					@if (closestMunro) {
					<div class="flex flex-col gap-5 md:flex-row md:items-start md:justify-between">
						<div class="min-w-0">
							<div class="flex items-center gap-5">
								<span class="grid h-16 w-16 place-items-center rounded-3xl bg-zinc-100 text-zinc-900">
									<i class="fa-solid fa-location-crosshairs text-xl"></i>
								</span>

								<!-- This needs to be able to grow -->
								<div class="min-w-0 flex-1">
									<!-- Make it full width + no wrap (wrap later on small screens) -->
									<div class="flex w-full items-start justify-between gap-4">
										<div class="min-w-0">
											<h1 class="truncate text-2xl font-semibold text-zinc-900">
												{{ closestMunro.hill_name }}
											</h1>

											<div class="mt-3 flex flex-wrap items-center gap-3">
												<span
													class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
													<i class="fa-solid fa-circle text-[10px] text-emerald-500"></i>
													Located
												</span>

												<span
													class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
													<i class="fa-solid fa-compass"></i>
													Nearest
												</span>
											</div>
										</div>

										<button *ngIf="closestMunro?._id"
											[routerLink]="['/dashboard/mountain-manager', closestMunro._id]"
											class="shrink-0 rounded-3xl bg-zinc-950 px-5 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
											type="button">
											<span class="inline-flex items-center gap-2">
												<i class="fa-solid fa-pen-to-square"></i>
												View details
											</span>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					} @else {
					<div class="flex flex-col gap-5 md:flex-row md:items-start md:justify-between">
						<div class="min-w-0">
							<div class="flex items-center gap-5">
								<span class="grid h-16 w-16 place-items-center rounded-3xl bg-zinc-100 text-zinc-900">
									<i class="fa-solid fa-location-dot text-xl"></i>
								</span>

								<div class="min-w-0">
									<div class="flex flex-wrap items-center gap-3">
										<h1 class="truncate text-2xl font-semibold text-zinc-900">Locator</h1>

										<span
											class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
											<i class="fa-solid fa-circle text-[10px] text-amber-500"></i>
											Waiting
										</span>
									</div>

									<p class="mt-2 text-base text-zinc-600">
										Find the Munro closest to your current location.
									</p>
								</div>
							</div>
						</div>

						<div class="flex flex-wrap items-center gap-3">
							<button type="button"
								class="rounded-3xl bg-zinc-950 px-5 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
								(click)="getClosestMunro()">
								<span class="inline-flex items-center gap-2">
									<i class="fa-solid fa-location-crosshairs"></i>
									Find nearest
								</span>
							</button>
						</div>
					</div>
					}
				</div>

				<!-- Body (profile-like sections inside the same card) -->
				<div class="p-7">
					@if (closestMunro) {
					<div class="space-y-6">

						<!-- Map block (same “card within card” pattern as Featured/About sections) -->
						<section class="rounded-[32px] bg-zinc-100/70 p-4">
							<div class="overflow-hidden rounded-[28px] bg-white">
								<div class="h-[60vh] min-h-[420px] w-full bg-zinc-100">
									<app-map [allMunros]="closestMunro" class="block h-full w-full"></app-map>
								</div>

								<div class="border-t border-zinc-100 p-6">
									<div class="flex flex-wrap gap-3">
										<span
											class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
											<i class="fa-solid fa-mountain"></i>
											{{ closestMunro.height }}m
										</span>

										<span
											class="inline-flex items-center gap-2 rounded-full bg-zinc-100 px-4 py-2 text-sm font-semibold text-zinc-700">
											<i class="fa-solid fa-location-crosshairs"></i>
											Nearest match
										</span>

										<span
											class="inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-800">
											<i class="fa-solid fa-circle-check"></i>
											Ready
										</span>
									</div>
								</div>
							</div>
						</section>
					</div>
					} @else {
					<!-- Empty state (same “section card” language as Profile) -->
					<section class="rounded-[32px] bg-zinc-100/70 p-4">
						<div class="rounded-[28px] bg-white p-10 sm:p-12">
							<div class="mx-auto max-w-2xl text-center">
								<span
									class="mx-auto grid h-16 w-16 place-items-center rounded-3xl bg-zinc-100 text-zinc-900">
									<i class="fa-solid fa-location-crosshairs text-xl"></i>
								</span>

								<h2 class="mt-6 text-2xl font-semibold text-zinc-900">
									Find your nearest Munro
								</h2>

								<p class="mt-2 text-base leading-relaxed text-zinc-600">
									We’ll use your device location (if you allow it) to calculate the closest peak.
								</p>

								<div class="mt-6 flex flex-col gap-3 sm:flex-row sm:justify-center">
									<button type="button"
										class="rounded-3xl bg-zinc-950 px-6 py-3 text-sm font-semibold text-white hover:bg-zinc-900"
										(click)="getClosestMunro()">
										<span class="inline-flex items-center gap-2">
											<i class="fa-solid fa-location-dot"></i>
											Find my nearest Munro
										</span>
									</button>

									<button type="button"
										class="rounded-3xl bg-zinc-100 px-6 py-3 text-sm font-semibold text-zinc-800 hover:bg-zinc-200">
										<span class="inline-flex items-center gap-2">
											<i class="fa-solid fa-circle-info"></i>
											How it works
										</span>
									</button>
								</div>
							</div>
						</div>
					</section>
					}
				</div>
			</div>
		</header>
	</section>
</main>
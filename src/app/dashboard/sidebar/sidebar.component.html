<nav class="bg-white w-full border-b border-slate-200">
	<app-container>
		<div class="flex items-center justify-between py-3 sm:py-4">
			<!-- Logo -->
			<a routerLink="/" class="flex items-center gap-3 min-w-0">
				<div
					class="w-10 h-10 flex items-center justify-center rounded-2xl border border-slate-200 bg-white shadow-[0_1px_0_rgba(15,23,42,0.04)]">
					<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10">
						<circle cx="50" cy="50" r="48" fill="#000" />
						<g transform="translate(22, 14) scale(0.115)">
							<path
								d="M464 424.1c0 4.4-3.5 7.9-7.9 7.9L55.9 432c-4.4 0-7.9-3.5-7.9-7.9c0-1.5 .4-2.9 1.2-4.2L149.6 260l39.5 50.8c4.6 5.9 11.7 9.3 19.2 9.3s14.5-3.6 19-9.6L268 256l92 0L462.8 419.9c.8 1.3 1.2 2.7 1.2 4.2zM329.8 208L256 208c-7.6 0-14.7 3.6-19.2 9.6l-29.1 38.9-30.9-39.8L256 90.3 329.8 208zM55.9 480l400.2 0c30.9 0 55.9-25 55.9-55.9c0-10.5-3-20.8-8.6-29.7L286.8 49c-6.6-10.6-18.3-17-30.8-17s-24.1 6.4-30.8 17L8.6 394.4C3 403.3 0 413.6 0 424.1C0 455 25 480 55.9 480z"
								fill="#fff" />
						</g>
					</svg>
				</div>

				<span class="text-slate-900 text-lg sm:text-xl font-semibold tracking-tight truncate">
					MunroLocator
				</span>
			</a>

			<!-- Desktop: nav + profile cluster -->
			<div class="hidden md:flex items-center gap-3">
				<!-- Nav pills -->
				<div class="flex items-center gap-1 rounded-2xl bg-slate-50 border border-slate-200 p-1">
					<a
						routerLink="mountain-manager"
						routerLinkActive="bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.04)]"
						class="inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:text-slate-900 hover:bg-white/70 transition">
						<i class="fa-solid fa-mountain text-[13px] text-slate-400"></i>
						Mountain Manager
					</a>

					<a
						routerLink="locator"
						routerLinkActive="bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.04)]"
						class="inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:text-slate-900 hover:bg-white/70 transition">
						<i class="fa-solid fa-location-crosshairs text-[13px] text-slate-400"></i>
						Locator
					</a>

					<a
						routerLink="album"
						routerLinkActive="bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.04)]"
						class="inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:text-slate-900 hover:bg-white/70 transition">
						<i class="fa-regular fa-images text-[13px] text-slate-400"></i>
						Album
					</a>

					<a
						routerLink="profile"
						routerLinkActive="bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.04)]"
						class="inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:text-slate-900 hover:bg-white/70 transition">
						<i class="fa-regular fa-user text-[13px] text-slate-400"></i>
						Profile
					</a>
				</div>

				<!-- Profile details (no new logic; uses whatever you already have available) -->
				<a
					routerLink="profile"
					class="flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-3 py-2 shadow-[0_1px_0_rgba(15,23,42,0.04)] hover:border-slate-300 hover:shadow-[0_10px_30px_rgba(15,23,42,0.08)] transition max-w-[260px]">
					<!-- Avatar: falls back to initials circle if image missing -->
					<div
						class="relative h-10 w-10 rounded-2xl overflow-hidden bg-slate-100 border border-slate-200 flex-shrink-0">
						<!-- If you have a user image variable, bind it here -->
						<img
							*ngIf="selectedUser?.profileImage"
							[src]="selectedUser.profileImage"
							alt="Profile"
							class="h-full w-full object-cover" />
						<div *ngIf="!selectedUser?.profileImage" class="h-full w-full flex items-center justify-center">
							<span class="text-sm font-semibold text-slate-600">U</span>
						</div>
					</div>

					<div class="min-w-0">
						<div class="text-sm font-semibold text-slate-900 truncate">
							{{ selectedUser?.fullname || 'Your profile' }}
						</div>
						<div class="text-xs text-slate-500 truncate">View and edit profile</div>
					</div>

					<i class="fa-solid fa-chevron-right text-slate-400 ml-auto"></i>
				</a>
			</div>

			<!-- Hamburger Button (Mobile) -->
			<button
				class="md:hidden inline-flex items-center justify-center h-11 w-11 rounded-xl border border-slate-200 bg-white shadow-[0_1px_0_rgba(15,23,42,0.04)] text-slate-700 hover:text-slate-900 hover:border-slate-300 hover:shadow-[0_10px_30px_rgba(15,23,42,0.08)] transition"
				(click)="toggleMenu()"
				aria-label="Open menu">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-5 w-5"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
				</svg>
			</button>
		</div>

		<!-- Fullscreen Mobile Menu -->
		<div *ngIf="mobileMenuOpen" class="fixed inset-0 z-50 md:hidden bg-white">
			<!-- top bar -->
			<div class="flex items-center justify-between px-4 sm:px-6 py-3 border-b border-slate-200">
				<span class="text-slate-900 font-semibold tracking-tight">Menu</span>
				<button
					(click)="closeMenu()"
					class="inline-flex items-center justify-center h-11 w-11 rounded-xl border border-slate-200 bg-white shadow-[0_1px_0_rgba(15,23,42,0.04)] text-slate-700 hover:text-slate-900 hover:border-slate-300 hover:shadow-[0_10px_30px_rgba(15,23,42,0.08)] transition"
					aria-label="Close menu">
					<i class="fa-solid fa-xmark text-lg"></i>
				</button>
			</div>

			<!-- Profile block -->
			<div class="px-4 sm:px-6 pt-6">
				<a
					routerLink="profile"
					(click)="closeMenu()"
					class="flex items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-4 hover:bg-white transition">
					<div class="h-12 w-12 rounded-2xl overflow-hidden bg-white border border-slate-200 flex-shrink-0">
						<img
							*ngIf="selectedUser?.profileImage"
							[src]="selectedUser.profileImage"
							alt="Profile"
							class="h-full w-full object-cover" />
						<div *ngIf="!selectedUser?.profileImage" class="h-full w-full flex items-center justify-center">
							<span class="text-sm font-semibold text-slate-600">U</span>
						</div>
					</div>

					<div class="min-w-0">
						<div class="text-sm font-semibold text-slate-900 truncate">
							{{ selectedUser?.fullname || 'Your profile' }}
						</div>
						<div class="text-xs text-slate-500 truncate">Tap to view & edit</div>
					</div>

					<i class="fa-solid fa-chevron-right text-slate-400 ml-auto"></i>
				</a>
			</div>

			<!-- menu links -->
			<div class="px-4 sm:px-6 py-6">
				<div class="flex flex-col gap-2">
					<a
						routerLink="mountain-manager"
						routerLinkActive="bg-slate-50 text-slate-900 border-slate-200"
						class="w-full inline-flex items-center justify-between px-4 py-3 rounded-2xl border border-transparent text-slate-700 font-semibold hover:bg-slate-50 hover:text-slate-900 hover:border-slate-200 transition"
						(click)="closeMenu()">
						<span>Mountain Manager</span>
						<i class="fa-solid fa-chevron-right text-slate-400"></i>
					</a>

					<a
						routerLink="locator"
						routerLinkActive="bg-slate-50 text-slate-900 border-slate-200"
						class="w-full inline-flex items-center justify-between px-4 py-3 rounded-2xl border border-transparent text-slate-700 font-semibold hover:bg-slate-50 hover:text-slate-900 hover:border-slate-200 transition"
						(click)="closeMenu()">
						<span>Locator</span>
						<i class="fa-solid fa-chevron-right text-slate-400"></i>
					</a>

					<a
						routerLink="album"
						routerLinkActive="bg-slate-50 text-slate-900 border-slate-200"
						class="w-full inline-flex items-center justify-between px-4 py-3 rounded-2xl border border-transparent text-slate-700 font-semibold hover:bg-slate-50 hover:text-slate-900 hover:border-slate-200 transition"
						(click)="closeMenu()">
						<span>Album</span>
						<i class="fa-solid fa-chevron-right text-slate-400"></i>
					</a>

					<a
						routerLink="profile"
						routerLinkActive="bg-slate-50 text-slate-900 border-slate-200"
						class="w-full inline-flex items-center justify-between px-4 py-3 rounded-2xl border border-transparent text-slate-700 font-semibold hover:bg-slate-50 hover:text-slate-900 hover:border-slate-200 transition"
						(click)="closeMenu()">
						<span>Profile</span>
						<i class="fa-solid fa-chevron-right text-slate-400"></i>
					</a>
				</div>
			</div>
		</div>
	</app-container>
</nav>

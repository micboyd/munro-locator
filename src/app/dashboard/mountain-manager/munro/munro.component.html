@if (munroLoading) {
<app-loading-indicator></app-loading-indicator>
} @else {

<div class="w-full px-8 py-6">
	<!-- Back Button -->
	<a
		class="flex items-center gap-2 text-gray-600 hover:text-black cursor-pointer transition mb-6"
		[routerLink]="['/dashboard/mountain-manager']"
		aria-label="Back to Munro Manager"
		type="button">
		<i class="fa-solid fa-arrow-left-long"></i>
		<span>Back</span>
	</a>

	<h1 class="text-3xl md:text-4xl font-bold mb-2 text-gray-900 tracking-tight">
		{{ selectedMunro.hill_name }}
	</h1>

	@if(!isNewCompletedMunro) {
	<div class="mb-5">
		<span class="bg-green-800 text-white text-sm font-medium px-3 py-1 rounded-full">Completed</span>
	</div>
	}

	<p class="text-gray-500 text-lg mb-6">{{ selectedMunro.height }}m</p>

	<form [formGroup]="completedMunroForm" (ngSubmit)="saveCompletedMunro()" class="space-y-6">
		<div>
			<label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
			<textarea
				id="notes"
				formControlName="notes"
				class="w-full p-3 font-light border border-gray-300 rounded focus:outline-none focus:border-black resize-none"
				rows="4"
				placeholder="Any notes about your hike..."></textarea>
		</div>

		<div>
			<label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
			<app-rating [rating]="completedMunro.rating" (ratingChange)="onRatingChanged($event)"></app-rating>
		</div>

		<button
			type="submit"
			[disabled]="completedMunroForm.invalid"
			class="w-full bg-black text-white py-3 rounded font-semibold hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed">
			Save
		</button>
	</form>

	<button
		(click)="removeCompletedMunro()"
		type="submit"
		class="w-full bg-black text-white py-3 rounded font-semibold hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed">
		Mark as incomplete
	</button>
</div>
}


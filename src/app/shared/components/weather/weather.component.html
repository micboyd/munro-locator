<section class="bg-zinc-950 text-white">
	<div class="mx-auto max-w-7xl px-5 py-10 sm:px-8">
		<div class="grid grid-cols-1 gap-6 lg:grid-cols-12 lg:items-start">
			<!-- Header -->
			<div class="lg:col-span-5">
				<div class="flex items-center gap-3">
					<span class="grid h-11 w-11 place-items-center rounded-2xl bg-white/10 text-white">
						<i class="fa-solid fa-cloud-sun"></i>
					</span>
					<div class="min-w-0">
						<div class="text-xl font-semibold tracking-tight">Weather</div>
						<p class="mt-1 text-base text-white/70">
							Live weather forecast for <span class="font-semibold text-white">location name</span>.
						</p>
					</div>
				</div>
			</div>

			@if (card) {
			<!-- Card -->
			<div class="lg:col-span-7">
				<div class="relative overflow-hidden rounded-[28px] bg-white/5 p-6">
					<!-- soft blobs (keep, but aligned to system) -->
					<div
						class="pointer-events-none absolute -top-24 -right-20 h-64 w-64 rounded-full bg-sky-500/20 blur-3xl">
					</div>
					<div
						class="pointer-events-none absolute -bottom-28 -left-24 h-64 w-64 rounded-full bg-emerald-500/15 blur-3xl">
					</div>

					<!-- Top row -->
					<div class="flex items-start justify-between gap-4">
						<div class="min-w-0">
							<div class="flex items-center gap-3">
								<span class="grid h-11 w-11 place-items-center rounded-2xl bg-white/10 text-white">
									<i class="fa-solid fa-compass"></i>
								</span>
								<div class="min-w-0">
									<div class="truncate text-base font-semibold text-white">Next best window</div>
									<div class="mt-1 truncate text-sm text-white/70">Plan around wind + visibility.
									</div>
								</div>
							</div>
						</div>

						<span class="shrink-0 rounded-full bg-white/10 px-4 py-2 text-sm font-semibold text-white/90">
							<span class="inline-flex items-center gap-2">
								<i class="fa-solid fa-calendar-day"></i>
								{{ card.badgeDay }}
							</span>
						</span>
					</div>

					<!-- Stats -->
					<div class="mt-6 grid grid-cols-1 gap-3 sm:grid-cols-3">
						<div class="rounded-3xl bg-white/5 p-5">
							<div class="flex items-center justify-between">
								<div class="text-sm font-semibold text-white/70">Wind</div>
								<span class="grid h-10 w-10 place-items-center rounded-2xl bg-white/10 text-white">
									<i class="fa-solid fa-wind"></i>
								</span>
							</div>
							<div class="mt-3 text-2xl font-semibold text-white">{{ card.windLabel }}</div>
							<div class="mt-1 text-sm text-white/60">Current / average</div>
						</div>

						<div class="rounded-3xl bg-white/5 p-5">
							<div class="flex items-center justify-between">
								<div class="text-sm font-semibold text-white/70">Cloud</div>
								<span class="grid h-10 w-10 place-items-center rounded-2xl bg-white/10 text-white">
									<i class="fa-solid fa-cloud"></i>
								</span>
							</div>
							<div class="mt-3 text-2xl font-semibold text-white">{{ card.cloudLabel }}</div>
							<div class="mt-1 text-sm text-white/60">Coverage</div>
						</div>

						<div class="rounded-3xl bg-white/5 p-5">
							<div class="flex items-center justify-between">
								<div class="text-sm font-semibold text-white/70">Temp</div>
								<span class="grid h-10 w-10 place-items-center rounded-2xl bg-white/10 text-white">
									<i class="fa-solid fa-temperature-half"></i>
								</span>
							</div>
							<div class="mt-3 text-2xl font-semibold text-white">{{ card.tempRange }}</div>
							<div class="mt-1 text-sm text-white/60">Range</div>
						</div>
					</div>

					<!-- Tags -->
					<div class="mt-6 flex flex-wrap gap-3">
						<span
							class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm font-semibold text-white/90">
							<i class="fa-solid fa-cloud-rain"></i>
							{{ card.rainTag }}
						</span>

						@if (card.chillTag) {
						<span
							class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm font-semibold text-white/90">
							<i class="fa-solid fa-snowflake"></i>
							{{ card.chillTag }}
						</span>
						}

						<span
							class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm font-semibold text-white/90">
							<i class="fa-solid fa-eye"></i>
							{{ card.visibilityTag }}
						</span>
					</div>

					<!-- CTA -->
					<div class="mt-6 flex flex-wrap items-center justify-between gap-3">
						<button
							class="rounded-3xl bg-white px-6 py-3 text-sm font-semibold text-zinc-950 hover:bg-white/90"
							type="button" (click)="toggleDetails()">
							<span class="inline-flex items-center gap-2">
								<i class="fa-solid fa-list"></i>
								Check forecast
							</span>
						</button>

						<span class="text-sm font-semibold text-white/60">
							Updated just now
						</span>
					</div>

					@if (showDetails) {
					<!-- Details -->
					<div class="mt-6 rounded-3xl bg-white/5 p-5">
						<div class="flex items-center justify-between gap-4">
							<div class="flex items-center gap-3">
								<span class="grid h-11 w-11 place-items-center rounded-2xl bg-white/10 text-white">
									<i class="fa-solid fa-clock"></i>
								</span>
								<div>
									<div class="text-base font-semibold text-white">Next hours</div>
									<div class="mt-1 text-sm text-white/70">Edinburgh</div>
								</div>
							</div>

							<span class="rounded-full bg-white/10 px-4 py-2 text-sm font-semibold text-white/90">
								Hourly
							</span>
						</div>

						<div class="mt-6 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4">
							@for (hour of nextHours; track hour.time) {
							<div class="rounded-3xl bg-white/5 p-5">
								<div class="flex items-start justify-between gap-3">
									<div class="min-w-0">
										<div class="text-sm font-semibold text-white/70">{{ hour.time }}</div>
										<div class="mt-2 text-2xl font-semibold text-white">{{ hour.temp }}Â°C</div>
									</div>

									<span class="grid h-10 w-10 place-items-center rounded-2xl bg-white/10 text-white">
										<i class="fa-solid fa-cloud-sun"></i>
									</span>
								</div>

								<div class="mt-4 space-y-1 text-sm font-semibold text-white/80">
									<div class="flex items-center justify-between">
										<span class="inline-flex items-center gap-2 text-white/60">
											<i class="fa-solid fa-wind"></i> Wind
										</span>
										<span class="text-white">{{ hour.wind }} km/h</span>
									</div>

									<div class="flex items-center justify-between">
										<span class="inline-flex items-center gap-2 text-white/60">
											<i class="fa-solid fa-cloud-rain"></i> Rain
										</span>
										<span class="text-white">{{ hour.rainProb }}%</span>
									</div>
								</div>
							</div>
							}
						</div>
					</div>
					}
				</div>
			</div>
			}
		</div>
	</div>
</section>
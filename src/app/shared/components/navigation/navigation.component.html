<app-container>
    <header class="w-full text-base bg-white">
        <nav class="flex w-full items-center justify-between py-3">
            <div class="hidden items-center gap-2 md:flex">
                <a routerLink="/dashboard/board" routerLinkActive="bg-neutral-900 text-white"
                    [routerLinkActiveOptions]="{ exact: true }"
                    class="px-4 py-2 rounded-full text-base font-medium text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 transition-all duration-200">
                    Board
                </a>
                <a routerLink="/dashboard/library" routerLinkActive="bg-neutral-900 text-white"
                    [routerLinkActiveOptions]="{ exact: true }"
                    class="px-4 py-2 rounded-full text-base font-medium text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 transition-all duration-200">
                    Library
                </a>
            </div>

            <!-- Right: Profile + Mobile Toggle -->
            <div class="flex items-center gap-2">

                @if (profileLoading) {
                } @else {
                    <a  routerLink="/dashboard/profile"
                        class="flex items-center gap-3 rounded-full border border-neutral-200 bg-white px-2 py-1.5 hover:bg-neutral-100 transition-all duration-200 cursor-pointer"
                        aria-label="Open profile">
                        <img [src]="profile.profileImage" alt="Profile"
                            class="h-8 w-8 rounded-full object-cover" />
                        <div class="hidden md:block leading-tight pr-1 text-left">
                            <div class="text-sm font-semibold text-neutral-900">{{ profile.firstName }} {{ profile.lastName }}</div>
                        </div>
                    </a>
                }

                <!-- Mobile menu button -->
                <button
                    class="grid h-10 w-10 place-items-center rounded-full border border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-100 transition-all duration-200 md:hidden"
                    aria-label="Open menu" onclick="document.getElementById('mobileNav').classList.toggle('hidden')">
                    <i class="fa-solid fa-bars text-sm"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile menu -->
        <div id="mobileNav" class="hidden border-t border-neutral-200 bg-white">
            <div class="mx-auto max-w-6xl px-4 py-4 md:px-6">
                <div class="flex flex-wrap gap-2">
                    <a routerLink="/dashboard/library" routerLinkActive="bg-neutral-900 text-white"
                        [routerLinkActiveOptions]="{ exact: true }"
                        class="px-4 py-2 rounded-full text-base font-medium text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 transition-all duration-200">
                        Library
                    </a>

                    <a routerLink="/dashboard/profile" routerLinkActive="bg-neutral-900 text-white"
                        [routerLinkActiveOptions]="{ exact: true }"
                        class="px-4 py-2 rounded-full text-base font-medium text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 transition-all duration-200">
                        Profile
                    </a>
                </div>

                <!-- Optional: profile summary (still flat) -->
                <button class="mt-4 flex items-center gap-3 rounded-3xl border border-neutral-200 bg-white p-4 cursor-pointer">
                    <img src="https://i.pravatar.cc/80?img=12" alt="Profile"
                        class="h-10 w-10 rounded-full object-cover" />
                    <div class="leading-tight">
                        <div class="text-base font-semibold text-neutral-900">Alex Ridge</div>
                        <div class="text-xs text-neutral-500">12 hikes â€¢ 3 saved peaks</div>
                    </div>
                </button>
            </div>
        </div>
    </header>
</app-container>
